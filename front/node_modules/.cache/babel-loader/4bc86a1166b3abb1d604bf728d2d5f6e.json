{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kirill\\\\Desktop\\\\HSE\\\\callSystem\\\\front\\\\src\\\\pages\\\\AdminPage.js\";\nimport React, { useState, useContext, useCallback, useEffect } from 'react';\nimport { useMessage } from '../hooks/message.hooks';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHttp } from '../hooks/http.hooks';\nimport { NotificationList } from '../components/NotificationList.js';\nimport { Loader } from '../components/Loader';\nexport const AdminPage = () => {\n  const [notification, setNotification] = useState(null);\n  const message = useMessage();\n  const auth = useContext(AuthContext);\n  const {\n    loading,\n    request\n  } = useHttp();\n  const getNofitication = useCallback(async () => {\n    try {\n      const data = await request(`/api/admin/getNotifications`, 'GET', null, {\n        Authorization: `Bearer ${auth.token}`\n      });\n      console.log(data);\n      setNotification(data);\n    } catch (e) {}\n  }, [auth.token, request]);\n  useEffect(() => {\n    if (auth != null) {\n      getNofitication();\n    }\n  }, [auth, getNofitication]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, !loading && notification && /*#__PURE__*/React.createElement(NotificationList, {\n    notifications: notification,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 35\n    }\n  }));\n};","map":{"version":3,"sources":["C:/Users/Kirill/Desktop/HSE/callSystem/front/src/pages/AdminPage.js"],"names":["React","useState","useContext","useCallback","useEffect","useMessage","AuthContext","useHttp","NotificationList","Loader","AdminPage","notification","setNotification","message","auth","loading","request","getNofitication","data","Authorization","token","console","log","e"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,WAAtC,EAAmDC,SAAnD,QAAoE,OAApE;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,gBAAT,QAAiC,mCAAjC;AACA,SAAQC,MAAR,QAAqB,sBAArB;AAGA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAE7B,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,IAAD,CAAhD;AACA,QAAMY,OAAO,GAAGR,UAAU,EAA1B;AAEA,QAAMS,IAAI,GAAGZ,UAAU,CAACI,WAAD,CAAvB;AACA,QAAM;AAACS,IAAAA,OAAD;AAAUC,IAAAA;AAAV,MAAqBT,OAAO,EAAlC;AAEA,QAAMU,eAAe,GAAGd,WAAW,CAAE,YAAY;AAC/C,QAAG;AACD,YAAMe,IAAI,GAAG,MAAMF,OAAO,CAAE,6BAAF,EAA+B,KAA/B,EAAqC,IAArC,EAA0C;AAC9DG,QAAAA,aAAa,EAAG,UAASL,IAAI,CAACM,KAAM;AAD0B,OAA1C,CAA1B;AAIEC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AAEAN,MAAAA,eAAe,CAACM,IAAD,CAAf;AAEH,KATD,CASC,OAAMK,CAAN,EAAQ,CACR;AAEJ,GAboC,EAalC,CAACT,IAAI,CAACM,KAAN,EAAYJ,OAAZ,CAbkC,CAAnC;AAeFZ,EAAAA,SAAS,CAAE,MAAM;AACb,QAAIU,IAAI,IAAI,IAAZ,EAAkB;AAClBG,MAAAA,eAAe;AACd;AACJ,GAJQ,EAIN,CAACH,IAAD,EAAMG,eAAN,CAJM,CAAT;;AAOA,MAAIF,OAAJ,EACI;AACI,wBAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAEH,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,CAACA,OAAD,IAAYJ,YAAZ,iBAA4B,oBAAC,gBAAD;AAAkB,IAAA,aAAa,EAAIA,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD9B,CADF;AAKD,CAxCM","sourcesContent":["import React, { useState, useContext, useCallback, useEffect } from 'react';\r\nimport { useMessage } from '../hooks/message.hooks';\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hooks';\r\nimport { NotificationList } from '../components/NotificationList.js'\r\nimport {Loader} from '../components/Loader'\r\n\r\n\r\nexport const AdminPage = () => {\r\n\r\n  const [notification, setNotification] = useState(null)  \r\n  const message = useMessage()\r\n  \r\n  const auth = useContext(AuthContext)\r\n  const {loading, request} = useHttp() \r\n\r\n  const getNofitication = useCallback( async () => {\r\n    try{\r\n      const data = await request(`/api/admin/getNotifications`,'GET',null,{ \r\n            Authorization: `Bearer ${auth.token}`\r\n        })\r\n\r\n        console.log(data)\r\n\r\n        setNotification(data)\r\n\r\n    }catch(e){\r\n    }\r\n  \r\n}, [auth.token,request])\r\n\r\nuseEffect( () => {\r\n    if (auth != null) {\r\n    getNofitication()\r\n    }\r\n}, [auth,getNofitication])  \r\n\r\n\r\nif (loading)\r\n    {\r\n        return <Loader/>\r\n    }\r\n\r\n  return(\r\n    <div>\r\n    { !loading && notification && <NotificationList notifications = {notification} />}\r\n    </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}