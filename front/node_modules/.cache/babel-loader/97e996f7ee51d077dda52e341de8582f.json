{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kirill\\\\Desktop\\\\HSE\\\\callSystem\\\\front\\\\src\\\\components\\\\EditAdminField.js\";\nimport React, { useState, useContext } from 'react';\nimport { useHttp } from '../hooks/http.hooks';\nimport { useHistory } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport { useMessage } from '../hooks/message.hooks';\nexport const EditAdminField = ({\n  user\n}) => {\n  const {\n    loading,\n    request\n  } = useHttp();\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const message = useMessage();\n  const id = user[Object.keys(user)[0]];\n  const login = user[Object.keys(user)[1]];\n  const [form, setForm] = useState({\n    id: id,\n    login: login\n  });\n\n  const changeHandler = event => {\n    setForm({ ...form,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const changeClick = async () => {\n    try {\n      const data = await request(`api/data/update/admin`, 'PUT', { ...form\n      }, {\n        Authorization: `Bearer ${auth.token}`\n      });\n      message(data.message);\n      history.push('/');\n    } catch (e) {}\n  };\n\n  const deleteClick = async () => {\n    try {\n      const response = await request(`api/data/delete/admin`, 'POST', { ...form\n      }, {\n        Authorization: `Bearer ${auth.token}`\n      });\n      message(response.message);\n      history.push('/');\n    } catch (e) {}\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"id\",\n    id: \"id\",\n    type: \"text\",\n    name: \"id\",\n    value: id,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"fullName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"\\u043B\\u043E\\u0433\\u0438\\u043D\",\n    id: \"login\",\n    type: \"text\",\n    name: \"login\",\n    value: form.login,\n    onChange: changeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"fullName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"waves-effect waves-light main btn\",\n    disabled: loading,\n    onClick: changeClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"waves-effect red secondary btn\",\n    disabled: loading,\n    onClick: deleteClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"));\n};","map":{"version":3,"sources":["C:/Users/Kirill/Desktop/HSE/callSystem/front/src/components/EditAdminField.js"],"names":["React","useState","useContext","useHttp","useHistory","AuthContext","useMessage","EditAdminField","user","loading","request","history","auth","message","id","Object","keys","login","form","setForm","changeHandler","event","target","name","value","changeClick","data","Authorization","token","push","e","deleteClick","response"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useMessage } from '../hooks/message.hooks'\r\n\r\nexport const EditAdminField = ( { user } ) => {\r\n\r\n    const {loading,request} = useHttp()\r\n    const history = useHistory()\r\n    const auth = useContext(AuthContext)\r\n    const message = useMessage()\r\n\r\n    const id = user[Object.keys(user)[0]]\r\n    const login = user[Object.keys(user)[1]]\r\n\r\n\r\n    const [form,setForm] = useState({\r\n       id: id, login: login\r\n     })\r\n \r\n     const changeHandler = event => {\r\n     setForm({...form,[event.target.name]: event.target.value})\r\n     }\r\n\r\n     const changeClick = async() =>{\r\n        try{\r\n\r\n            const data = await request(`api/data/update/admin`, 'PUT', {...form}, { \r\n              Authorization: `Bearer ${auth.token}`})\r\n\r\n            message(data.message)\r\n            history.push('/')\r\n        } catch(e) {\r\n\r\n        }\r\n    }\r\n\r\n     const deleteClick = async() => {\r\n        try{\r\n\r\n            \r\n            const response = await request(`api/data/delete/admin`, 'POST', {...form}, { \r\n                Authorization: `Bearer ${auth.token}`})\r\n                message(response.message)\r\n                history.push('/')\r\n\r\n        } catch(e){\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n               <div className=\"input-field\">\r\n                            <input\r\n                            placeholder=\"id\"\r\n                            id=\"id\"                         \r\n                            type=\"text\"\r\n                            name=\"id\"\r\n                            value = {id}\r\n                            onChange = {changeHandler}\r\n                            />\r\n                            <label htmlFor=\"fullName\"></label>\r\n            </div>\r\n\r\n\r\n            <div className=\"input-field\">\r\n                            <input\r\n                            placeholder=\"логин\"\r\n                            id=\"login\"                         \r\n                            type=\"text\"\r\n                            name=\"login\"\r\n                            value = {form.login}\r\n                            onChange = {changeHandler}\r\n                            />\r\n                            <label htmlFor=\"fullName\"></label>\r\n            </div>\r\n\r\n            <button className=\"waves-effect waves-light main btn\"\r\n                                disabled = {loading}\r\n                                onClick = {changeClick}\r\n                                >\r\n                                Изменить\r\n                                </button>\r\n\r\n            <button className=\"waves-effect red secondary btn\"\r\n                                disabled = {loading}\r\n                                onClick = {deleteClick}\r\n                                >\r\n                                удалить\r\n                                </button>  \r\n\r\n                                \r\n\r\n        </div>\r\n    )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}