{"ast":null,"code":"import React, { useState, useEffect, useContext } from 'react';\nimport { useMessage } from '../hooks/message.hooks';\nimport { useHttp } from '../hooks/http.hooks';\nimport { AuthContext } from '../context/AuthContext';\n/*export const AdminAuthPage = () => {\r\n    \r\n    const message = useMessage()\r\n    const auth = useContext(AuthContext)\r\n\r\n   const {loading,request,error,clearError} = useHttp()\r\n\r\n    const [form,setForm] = useState({\r\n        login:'', password: '' \r\n    })\r\n\r\n    const changeHandler = event => {\r\n    setForm({...form,[event.target.name]: event.target.value})\r\n    }\r\n\r\n   const loginHandler = async() =>{\r\n      try{\r\n        const user = await request('api/admin/login', 'POST', {...form})\r\n\r\n        const temp = user.token\r\n\r\n        const data = await request('api/data/verify','POST', {temp} )\r\n\r\n        auth.login(user.token, user.userId, data.user)\r\n      } catch(e) {\r\n\r\n      }\r\n  }\r\n   \r\n    \r\n    useEffect(() =>{\r\n      message(error)\r\n      clearError()\r\n      },[error,message,clearError])\r\n\r\n    return(\r\n    <div className=\"col s12 m6\">\r\n      <div className=\"card blue-grey darken-1\">\r\n        <div className=\"card-content white-text\">\r\n         \r\n        <div className=\"input-field\">\r\n        <input \r\n        placeholder=\"введите имя пользователя\" \r\n        id=\"login\" \r\n        type=\"text\"\r\n        name=\"login\"\r\n        onChange = {changeHandler}\r\n        />\r\n        <label htmlFor=\"id\"></label>\r\n      </div>\r\n\r\n      <div className=\"input-field\">\r\n        <input \r\n        placeholder=\"Введите пароль\" \r\n        id=\"password\" \r\n        type=\"password\"\r\n        name=\"password\"\r\n        onChange = {changeHandler}\r\n        />\r\n        <label htmlFor=\"password\"></label>\r\n      </div>\r\n\r\n        </div>\r\n        <div className=\"card-action\">\r\n\r\n        <button className=\"waves-effect waves-light btn\"\r\n        style={{marginRight: 10}}\r\n        onClick = {loginHandler}\r\n        disabled = {loading}\r\n        >\r\n        Войти\r\n        </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n} */","map":{"version":3,"sources":["C:/Users/Kirill/Desktop/HSE/callSystem/front/src/pages/AdminAuthPage.js"],"names":["React","useState","useEffect","useContext","useMessage","useHttp","AuthContext"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AAEA","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport { useMessage } from '../hooks/message.hooks'\r\nimport { useHttp } from '../hooks/http.hooks'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\n/*export const AdminAuthPage = () => {\r\n    \r\n    const message = useMessage()\r\n    const auth = useContext(AuthContext)\r\n\r\n   const {loading,request,error,clearError} = useHttp()\r\n\r\n    const [form,setForm] = useState({\r\n        login:'', password: '' \r\n    })\r\n\r\n    const changeHandler = event => {\r\n    setForm({...form,[event.target.name]: event.target.value})\r\n    }\r\n\r\n   const loginHandler = async() =>{\r\n      try{\r\n        const user = await request('api/admin/login', 'POST', {...form})\r\n\r\n        const temp = user.token\r\n\r\n        const data = await request('api/data/verify','POST', {temp} )\r\n\r\n        auth.login(user.token, user.userId, data.user)\r\n      } catch(e) {\r\n\r\n      }\r\n  }\r\n   \r\n    \r\n    useEffect(() =>{\r\n      message(error)\r\n      clearError()\r\n      },[error,message,clearError])\r\n\r\n    return(\r\n    <div className=\"col s12 m6\">\r\n      <div className=\"card blue-grey darken-1\">\r\n        <div className=\"card-content white-text\">\r\n         \r\n        <div className=\"input-field\">\r\n        <input \r\n        placeholder=\"введите имя пользователя\" \r\n        id=\"login\" \r\n        type=\"text\"\r\n        name=\"login\"\r\n        onChange = {changeHandler}\r\n        />\r\n        <label htmlFor=\"id\"></label>\r\n      </div>\r\n\r\n      <div className=\"input-field\">\r\n        <input \r\n        placeholder=\"Введите пароль\" \r\n        id=\"password\" \r\n        type=\"password\"\r\n        name=\"password\"\r\n        onChange = {changeHandler}\r\n        />\r\n        <label htmlFor=\"password\"></label>\r\n      </div>\r\n\r\n        </div>\r\n        <div className=\"card-action\">\r\n\r\n        <button className=\"waves-effect waves-light btn\"\r\n        style={{marginRight: 10}}\r\n        onClick = {loginHandler}\r\n        disabled = {loading}\r\n        >\r\n        Войти\r\n        </button>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n    )\r\n} */\r\n"]},"metadata":{},"sourceType":"module"}